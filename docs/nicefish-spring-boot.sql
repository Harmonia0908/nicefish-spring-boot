/*
SQLyog Community v13.1.6 (64 bit)
MySQL - 10.5.9-MariaDB : Database - nicefish-spring-boot-test
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
/*Table structure for table `hibernate_sequence` */

DROP TABLE IF EXISTS `hibernate_sequence`;

CREATE TABLE `hibernate_sequence` (
  `next_val` bigint(20) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='MySQL 没有 sequence 机制，用表来模拟。';

/*Data for the table `hibernate_sequence` */

/*Table structure for table `nicefish_cms_comment` */

DROP TABLE IF EXISTS `nicefish_cms_comment`;

CREATE TABLE `nicefish_cms_comment` (
  `comment_id` int(11) NOT NULL AUTO_INCREMENT,
  `post_id` int(11) NOT NULL,
  `content` text DEFAULT NULL,
  `comment_time` datetime NOT NULL DEFAULT current_timestamp(),
  `comment_ip` varchar(64) DEFAULT NULL COMMENT '评论者的IP地址',
  `p_id` int(11) DEFAULT -1 COMMENT '父层评论的ID，用来实现评论盖楼效果',
  `user_id` int(11) NOT NULL,
  `user_name` varchar(64) DEFAULT NULL,
  `nick_name` varchar(64) DEFAULT NULL,
  `email` varchar(64) DEFAULT NULL,
  `status` int(11) DEFAULT 1 COMMENT '评论状态：0：已删除；1：已发布；2:优质评论；',
  PRIMARY KEY (`comment_id`)
) ENGINE=InnoDB AUTO_INCREMENT=17 DEFAULT CHARSET=utf8mb4 COMMENT='评论表';

/*Data for the table `nicefish_cms_comment` */

insert  into `nicefish_cms_comment`(`comment_id`,`post_id`,`content`,`comment_time`,`comment_ip`,`p_id`,`user_id`,`user_name`,`nick_name`,`email`,`status`) values 
(3,1,'1111111111111111111111111','2023-07-12 21:09:49',NULL,NULL,1,'admin@126.com','系统管理员',NULL,NULL),
(4,2,'22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222','2023-07-17 22:27:45',NULL,NULL,1,'admin@126.com','系统管理员',NULL,NULL),
(5,2,'22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222','2023-07-17 22:27:49',NULL,NULL,1,'admin@126.com','系统管理员',NULL,NULL),
(6,2,'22222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222','2023-07-17 22:27:56',NULL,NULL,1,'admin@126.com','系统管理员',NULL,NULL),
(7,5,'44444444444444444444','2023-07-18 14:34:34',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(8,5,'44444444444444444444','2023-07-18 14:34:39',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(9,5,'44444444444444444444','2023-07-18 14:34:48',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(10,6,'55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555','2023-07-18 15:07:17',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(11,6,'55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555','2023-07-18 15:07:20',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(12,6,'55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555','2023-07-18 15:07:27',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(13,7,'6666666666666666666666666666','2023-07-18 16:19:39',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(14,7,'6666666666666666666666666666','2023-07-18 16:19:46',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(15,7,'6666666666666666666666666666','2023-07-18 16:26:14',NULL,NULL,2,'admin@126.com','admin',NULL,NULL),
(16,7,'6666666666666666666666666666','2023-07-18 16:26:24',NULL,NULL,2,'admin@126.com','admin',NULL,NULL);

/*Table structure for table `nicefish_cms_file_upload` */

DROP TABLE IF EXISTS `nicefish_cms_file_upload`;

CREATE TABLE `nicefish_cms_file_upload` (
  `up_id` int(11) NOT NULL,
  `up_time` datetime DEFAULT current_timestamp(),
  `file_name` varchar(128) DEFAULT NULL COMMENT '与物理保存的文件名一致',
  `file_type` varchar(32) DEFAULT '1' COMMENT '1、图片；\n            2、附件；',
  `file_size` float DEFAULT 0,
  `file_width` int(11) DEFAULT 0,
  `file_height` int(11) DEFAULT 0,
  `display_order` int(11) DEFAULT 0,
  `user_id` int(11) DEFAULT 0,
  `url` varchar(128) DEFAULT NULL COMMENT '访问此文件的路径，可以指向系统外部的 URL 。',
  `file_module` int(11) DEFAULT 1 COMMENT '1、metro相关的图片\n            2、文章相关的图片\n            3、图书相关的图片\n            4、小图标\n            5、用户头像\n            ',
  `file_desc` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`up_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='上传文件的记录。';

/*Data for the table `nicefish_cms_file_upload` */

/*Table structure for table `nicefish_cms_post` */

DROP TABLE IF EXISTS `nicefish_cms_post`;

CREATE TABLE `nicefish_cms_post` (
  `post_id` int(11) NOT NULL AUTO_INCREMENT,
  `post_title` varchar(128) NOT NULL,
  `post_summary` varchar(1024) DEFAULT NULL COMMENT '摘要，文章列表页需要使用',
  `post_content` text DEFAULT NULL COMMENT '内容',
  `original_url` varchar(512) DEFAULT NULL COMMENT '原文链接，如果有这个字段，说明是翻译文章',
  `thumb_img_url` varchar(256) DEFAULT NULL COMMENT '缩略图链接',
  `header_img_url` varchar(256) DEFAULT NULL,
  `post_time` datetime NOT NULL DEFAULT current_timestamp(),
  `update_time` datetime DEFAULT current_timestamp(),
  `post_type` varchar(32) NOT NULL DEFAULT '0' COMMENT '文章的类型，0原创1翻译',
  `read_times` int(11) NOT NULL DEFAULT 1 COMMENT '阅读数',
  `liked_times` int(11) NOT NULL DEFAULT 0 COMMENT '点赞数',
  `comment_times` int(11) NOT NULL DEFAULT 0 COMMENT '评论数',
  `user_id` int(11) NOT NULL,
  `email` varchar(64) DEFAULT NULL,
  `nick_name` varchar(64) DEFAULT NULL COMMENT '冗余字段，对应 nicefish_rbac_user 表中的 NICK_NAME 字段，用来避免表关联。',
  `enable_comment` varchar(32) NOT NULL DEFAULT '1' COMMENT '是否可评论\n            0不可\n            1可',
  `status` int(11) NOT NULL DEFAULT 4 COMMENT '状态：\n            1、已删除\n            2、已归档，已归档的内容禁止评论，文章不可删除\n            3、草稿\n            4、已发布\n            5、精华-->精华文章不可删除\n            6、已推至首页\n            ',
  PRIMARY KEY (`post_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4 COMMENT='文章表';

/*Data for the table `nicefish_cms_post` */

insert  into `nicefish_cms_post`(`post_id`,`post_title`,`post_summary`,`post_content`,`original_url`,`thumb_img_url`,`header_img_url`,`post_time`,`update_time`,`post_type`,`read_times`,`liked_times`,`comment_times`,`user_id`,`email`,`nick_name`,`enable_comment`,`status`) values 
(1,'1111111111111111111111111',NULL,'<p>11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</p>','',NULL,NULL,'2023-07-12 21:09:20','2023-07-12 21:09:20','0',1,0,0,1,'admin@126.com','系统管理员','Y',4),
(2,'222222222222222222222222222222',NULL,'<p>222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</p>','',NULL,NULL,'2023-07-12 21:09:33','2023-07-12 21:09:33','0',1,0,0,1,'admin@126.com','系统管理员','Y',4),
(4,'3333333333333333333333333',NULL,'<p>333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333333</p>','',NULL,NULL,'2023-07-17 22:39:48','2023-07-17 22:39:48','0',1,0,0,1,'admin@126.com','系统管理员','Y',4),
(5,'44444444444444444444',NULL,'<p>44444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444</p>','',NULL,NULL,'2023-07-18 14:34:17','2023-07-18 14:34:17','0',1,0,0,2,'admin@126.com','admin','Y',4),
(6,'555555555555555555555555555',NULL,'<p>555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555</p>','',NULL,NULL,'2023-07-18 15:06:56','2023-07-18 15:06:56','0',1,0,0,2,'admin@126.com','admin','Y',4),
(7,'6666666666666666666666666666',NULL,'<p>6666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666</p>','',NULL,NULL,'2023-07-18 16:19:24','2023-07-18 16:19:24','0',1,0,0,2,'admin@126.com','admin','Y',4);

/*Table structure for table `nicefish_cms_sys_params` */

DROP TABLE IF EXISTS `nicefish_cms_sys_params`;

CREATE TABLE `nicefish_cms_sys_params` (
  `param_key` varchar(128) NOT NULL,
  `param_value` varchar(2048) NOT NULL,
  `param_desc` varchar(512) DEFAULT NULL,
  PRIMARY KEY (`param_key`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='系统参数配置表';

/*Data for the table `nicefish_cms_sys_params` */

/*Table structure for table `nicefish_rbac_api` */

DROP TABLE IF EXISTS `nicefish_rbac_api`;

CREATE TABLE `nicefish_rbac_api` (
  `api_id` int(11) NOT NULL AUTO_INCREMENT,
  `api_name` varchar(64) NOT NULL,
  `url` varchar(64) DEFAULT NULL COMMENT 'URL 的匹配模式和 @RequestMapping 中的定义模式完全相同。',
  `permission` varchar(64) NOT NULL DEFAULT '*' COMMENT '权限定义，按照 Apache Shiro 的权限定义规则进行定义。\r\n            为了避免重复和歧义，权限字符串必须是不同的。',
  `create_time` datetime NOT NULL DEFAULT current_timestamp(),
  `update_time` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `remark` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`api_id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8mb4 COMMENT='用来定义服务端 API 接口的权限。';

/*Data for the table `nicefish_rbac_api` */

insert  into `nicefish_rbac_api`(`api_id`,`api_name`,`url`,`permission`,`create_time`,`update_time`,`remark`) values 
(5,'系统管理',NULL,'*','2023-07-18 08:59:45','2023-07-18 09:03:34','系统管理权限是最高权限，拥有此权限可以对系统进行任意操作，删除此权限会导致系统管理员无法对系统进行维护。'),
(6,'关注用户','','user:follow','2023-07-18 14:30:04','2023-07-18 14:30:04','拥有此权限可以关注用户，否则不可以。');

/*Table structure for table `nicefish_rbac_component` */

DROP TABLE IF EXISTS `nicefish_rbac_component`;

CREATE TABLE `nicefish_rbac_component` (
  `component_id` int(11) NOT NULL AUTO_INCREMENT,
  `p_id` int(11) DEFAULT NULL COMMENT '用来构建 Tree 形菜单，P_ID=-1 表示顶级菜单',
  `component_name` varchar(64) NOT NULL,
  `icon` varchar(64) DEFAULT NULL,
  `url` varchar(64) DEFAULT NULL COMMENT '组件对应的 URL 路径，可以定义成系统外部的链接 URL',
  `display_order` int(11) NOT NULL DEFAULT 1 COMMENT '组件在前端屏幕上的显示顺序，按数值从小到达排列，数值越小越靠屏幕顶部。\r\n            在构建树形菜单时，可以利用此列控制显示的顺序。',
  `permission` varchar(64) NOT NULL DEFAULT '*' COMMENT '权限定义，按照 Apache Shiro 的权限定义规则进行定义。\r\n            为了避免重复和歧义，权限字符串必须是不同的。',
  `create_time` datetime NOT NULL DEFAULT current_timestamp(),
  `update_time` datetime NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `visiable` int(11) NOT NULL DEFAULT 1 COMMENT '菜单是否可见，1 可见，0 不可见',
  `remark` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`component_id`)
) ENGINE=InnoDB AUTO_INCREMENT=42 DEFAULT CHARSET=utf8mb4 COMMENT='用来定义前端页面上的组件权限，\r\ncomponent 可以是菜单、按钮，甚至可以细致到一个 HTML 元素。\r\n';

/*Data for the table `nicefish_rbac_component` */

/*Table structure for table `nicefish_rbac_role` */

DROP TABLE IF EXISTS `nicefish_rbac_role`;

CREATE TABLE `nicefish_rbac_role` (
  `role_id` int(11) NOT NULL AUTO_INCREMENT,
  `role_name` varchar(64) NOT NULL,
  `status` int(11) NOT NULL DEFAULT 0 COMMENT '-1 特权角色，不能删除 0正常 1停用 2删除',
  `remark` varchar(500) DEFAULT '',
  PRIMARY KEY (`role_id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4;

/*Data for the table `nicefish_rbac_role` */

insert  into `nicefish_rbac_role`(`role_id`,`role_name`,`status`,`remark`) values 
(1,'系统管理员',1,'【系统管理员角色拥有系统最高权限，删除或者禁用此角色将会导致管理员无法登录系统。】'),
(10,'测试角色-1',1,'此角色用来测试，上面没有配置权限点。'),
(11,'测试角色-2',1,'测试角色-2');

/*Table structure for table `nicefish_rbac_role_api` */

DROP TABLE IF EXISTS `nicefish_rbac_role_api`;

CREATE TABLE `nicefish_rbac_role_api` (
  `role_id` int(11) NOT NULL,
  `api_id` int(11) NOT NULL,
  PRIMARY KEY (`role_id`,`api_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='角色与 API  接口之间的关联关系。';

/*Data for the table `nicefish_rbac_role_api` */

insert  into `nicefish_rbac_role_api`(`role_id`,`api_id`) values 
(-1,6),
(1,5),
(11,6);

/*Table structure for table `nicefish_rbac_role_component` */

DROP TABLE IF EXISTS `nicefish_rbac_role_component`;

CREATE TABLE `nicefish_rbac_role_component` (
  `role_id` int(11) NOT NULL,
  `component_id` int(11) NOT NULL,
  PRIMARY KEY (`role_id`,`component_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='角色与菜单的关联关系';

/*Data for the table `nicefish_rbac_role_component` */

/*Table structure for table `nicefish_rbac_session` */

DROP TABLE IF EXISTS `nicefish_rbac_session`;

CREATE TABLE `nicefish_rbac_session` (
  `session_id` varchar(64) NOT NULL DEFAULT '',
  `app_name` varchar(64) DEFAULT NULL COMMENT '应用名称',
  `user_id` int(11) DEFAULT NULL COMMENT '如果用户没有登录，此列可为空',
  `user_name` varchar(64) DEFAULT NULL,
  `creation_time` datetime DEFAULT NULL,
  `expiry_time` datetime DEFAULT NULL,
  `last_access_time` datetime DEFAULT NULL,
  `max_inactive_interval` int(11) DEFAULT NULL,
  `timeout` bigint(20) DEFAULT NULL COMMENT '过期时间',
  `expired` tinyint(1) DEFAULT 0 COMMENT 'Session 是否已经过期',
  `host` varchar(64) DEFAULT '' COMMENT 'IP地址',
  `os` varchar(64) DEFAULT '',
  `browser` varchar(64) DEFAULT '',
  `user_agent` varchar(255) DEFAULT NULL COMMENT '浏览器发送过来的 UserAgent 字符串',
  `session_data` text DEFAULT NULL COMMENT 'Session 中的所有 Attribute ，格式是 JSON 。',
  PRIMARY KEY (`session_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='用来持久化 Session ，应用端可以利用此表实现 SSO 。\r\n此表中的 SESSION_DATA 是 J';

/*Data for the table `nicefish_rbac_session` */

insert  into `nicefish_rbac_session`(`session_id`,`app_name`,`user_id`,`user_name`,`creation_time`,`expiry_time`,`last_access_time`,`max_inactive_interval`,`timeout`,`expired`,`host`,`os`,`browser`,`user_agent`,`session_data`) values 
('421922c4-23eb-46eb-b48d-6992059d529c',NULL,2,'admin@126.com','2023-07-18 21:38:25',NULL,'2023-07-18 21:41:03',NULL,300000,0,'0:0:0:0:0:0:0:1','Windows 10','Firefox 11','Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0',NULL);

/*Table structure for table `nicefish_rbac_user` */

DROP TABLE IF EXISTS `nicefish_rbac_user`;

CREATE TABLE `nicefish_rbac_user` (
  `user_id` int(11) NOT NULL AUTO_INCREMENT,
  `user_name` varchar(64) NOT NULL,
  `nick_name` varchar(64) NOT NULL,
  `password` varchar(64) DEFAULT '',
  `email` varchar(64) DEFAULT '',
  `cellphone` varchar(32) DEFAULT '',
  `gender` int(11) DEFAULT 0 COMMENT '0男 1女 2未知',
  `avatar_url` varchar(64) DEFAULT '' COMMENT '用户头像 URL',
  `salt` varchar(32) DEFAULT '',
  `create_time` datetime DEFAULT current_timestamp(),
  `status` int(11) DEFAULT 1 COMMENT '-1 特权用户不能删除 0正常 1禁用 2删除',
  `remark` varchar(500) DEFAULT '',
  PRIMARY KEY (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8mb4;

/*Data for the table `nicefish_rbac_user` */

insert  into `nicefish_rbac_user`(`user_id`,`user_name`,`nick_name`,`password`,`email`,`cellphone`,`gender`,`avatar_url`,`salt`,`create_time`,`status`,`remark`) values 
(2,'admin@126.com','admin','36a901ef49e2c44155863906692a5e1a','admin@126.com','',0,'','6c0e2d','2023-07-17 23:02:37',1,''),
(4,'user1@126.com','测试用户-1','5f077f98795ddfe4d353e4c2a0acbdd0','user1@126.com','',1,'','596a69','2023-07-18 13:58:04',1,''),
(5,'user2@126.com','user2','4f9c512e8ca73e1285a5617fb843e609','user2@126.com','',0,'','558d9a','2023-07-18 15:10:22',1,''),
(6,'user3@126.com','user3','ae2a2f18656334fab7d3ea71c6bc55ce','user3@126.com','',0,'','ec764e','2023-07-18 16:20:58',1,''),
(7,'user4@126.com','user4','9ee2e0077263167a2c1f62fa7f993da1','user4@126.com','',2,'','3cb61c','2023-07-18 20:24:12',1,'');

/*Table structure for table `nicefish_rbac_user_role` */

DROP TABLE IF EXISTS `nicefish_rbac_user_role`;

CREATE TABLE `nicefish_rbac_user_role` (
  `user_id` int(11) NOT NULL,
  `role_id` int(11) NOT NULL,
  PRIMARY KEY (`user_id`,`role_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

/*Data for the table `nicefish_rbac_user_role` */

insert  into `nicefish_rbac_user_role`(`user_id`,`role_id`) values 
(2,1),
(2,10),
(4,10),
(4,11),
(7,10),
(7,11);

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
